{"ast":null,"code":"export function createBlock(type, meta, data, key) {\n  return {\n    key: key !== null && key !== void 0 ? key : -1,\n    type: type,\n    meta: meta,\n    data: data\n  };\n}\n// it only manages the listed blocks in the UI, not the action.\nexport function blockManager(callback = (history = []) => {}) {\n  let history = [];\n  const getBlockIndexByKey = (key = -1) => history.findIndex(block => block.key === key);\n  const insertBlock = block => {\n    const length = history.length;\n    block.key = length;\n    history.push(block);\n    return length;\n  };\n  return {\n    getAll: () => history,\n    setAll: blocks => {\n      blocks.forEach(block => insertBlock(Object.assign({}, block))); // copied, to not to write to orignal\n      callback(history);\n    },\n    get: key => {\n      return history[getBlockIndexByKey(key)];\n    },\n    add: block => {\n      const key = insertBlock(block);\n      callback(history);\n      return key;\n    },\n    update: (key, block) => {\n      const index = getBlockIndexByKey(key);\n      history[index] = block;\n      callback(history);\n    },\n    remove: key => {\n      const index = getBlockIndexByKey(key);\n      history.splice(index, 1);\n      callback(history);\n    },\n    clear: () => {\n      history = [];\n      callback(history);\n    }\n  };\n}","map":{"version":3,"names":["createBlock","type","meta","data","key","blockManager","callback","history","getBlockIndexByKey","findIndex","block","insertBlock","length","push","getAll","setAll","blocks","forEach","Object","assign","get","add","update","index","remove","splice","clear"],"sources":["/Users/appletech/Desktop/chatbottest/chatbottest/node_modules/botui/dist/block.js"],"sourcesContent":["export function createBlock(type, meta, data, key) {\n    return {\n        key: key !== null && key !== void 0 ? key : -1,\n        type: type,\n        meta: meta,\n        data: data,\n    };\n}\n// it only manages the listed blocks in the UI, not the action.\nexport function blockManager(callback = (history = []) => { }) {\n    let history = [];\n    const getBlockIndexByKey = (key = -1) => history.findIndex((block) => block.key === key);\n    const insertBlock = (block) => {\n        const length = history.length;\n        block.key = length;\n        history.push(block);\n        return length;\n    };\n    return {\n        getAll: () => history,\n        setAll: (blocks) => {\n            blocks.forEach((block) => insertBlock(Object.assign({}, block))); // copied, to not to write to orignal\n            callback(history);\n        },\n        get: (key) => {\n            return history[getBlockIndexByKey(key)];\n        },\n        add: (block) => {\n            const key = insertBlock(block);\n            callback(history);\n            return key;\n        },\n        update: (key, block) => {\n            const index = getBlockIndexByKey(key);\n            history[index] = block;\n            callback(history);\n        },\n        remove: (key) => {\n            const index = getBlockIndexByKey(key);\n            history.splice(index, 1);\n            callback(history);\n        },\n        clear: () => {\n            history = [];\n            callback(history);\n        },\n    };\n}\n"],"mappings":"AAAA,OAAO,SAASA,WAAWA,CAACC,IAAI,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAE;EAC/C,OAAO;IACHA,GAAG,EAAEA,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,KAAK,CAAC,GAAGA,GAAG,GAAG,CAAC,CAAC;IAC9CH,IAAI,EAAEA,IAAI;IACVC,IAAI,EAAEA,IAAI;IACVC,IAAI,EAAEA;EACV,CAAC;AACL;AACA;AACA,OAAO,SAASE,YAAYA,CAACC,QAAQ,GAAGA,CAACC,OAAO,GAAG,EAAE,KAAK,CAAE,CAAC,EAAE;EAC3D,IAAIA,OAAO,GAAG,EAAE;EAChB,MAAMC,kBAAkB,GAAGA,CAACJ,GAAG,GAAG,CAAC,CAAC,KAAKG,OAAO,CAACE,SAAS,CAAEC,KAAK,IAAKA,KAAK,CAACN,GAAG,KAAKA,GAAG,CAAC;EACxF,MAAMO,WAAW,GAAID,KAAK,IAAK;IAC3B,MAAME,MAAM,GAAGL,OAAO,CAACK,MAAM;IAC7BF,KAAK,CAACN,GAAG,GAAGQ,MAAM;IAClBL,OAAO,CAACM,IAAI,CAACH,KAAK,CAAC;IACnB,OAAOE,MAAM;EACjB,CAAC;EACD,OAAO;IACHE,MAAM,EAAEA,CAAA,KAAMP,OAAO;IACrBQ,MAAM,EAAGC,MAAM,IAAK;MAChBA,MAAM,CAACC,OAAO,CAAEP,KAAK,IAAKC,WAAW,CAACO,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAET,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;MAClEJ,QAAQ,CAACC,OAAO,CAAC;IACrB,CAAC;IACDa,GAAG,EAAGhB,GAAG,IAAK;MACV,OAAOG,OAAO,CAACC,kBAAkB,CAACJ,GAAG,CAAC,CAAC;IAC3C,CAAC;IACDiB,GAAG,EAAGX,KAAK,IAAK;MACZ,MAAMN,GAAG,GAAGO,WAAW,CAACD,KAAK,CAAC;MAC9BJ,QAAQ,CAACC,OAAO,CAAC;MACjB,OAAOH,GAAG;IACd,CAAC;IACDkB,MAAM,EAAEA,CAAClB,GAAG,EAAEM,KAAK,KAAK;MACpB,MAAMa,KAAK,GAAGf,kBAAkB,CAACJ,GAAG,CAAC;MACrCG,OAAO,CAACgB,KAAK,CAAC,GAAGb,KAAK;MACtBJ,QAAQ,CAACC,OAAO,CAAC;IACrB,CAAC;IACDiB,MAAM,EAAGpB,GAAG,IAAK;MACb,MAAMmB,KAAK,GAAGf,kBAAkB,CAACJ,GAAG,CAAC;MACrCG,OAAO,CAACkB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;MACxBjB,QAAQ,CAACC,OAAO,CAAC;IACrB,CAAC;IACDmB,KAAK,EAAEA,CAAA,KAAM;MACTnB,OAAO,GAAG,EAAE;MACZD,QAAQ,CAACC,OAAO,CAAC;IACrB;EACJ,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}